{"version":3,"sources":["webpack:///./src/pages/ForgotPassword.vue?882a","webpack:///src/pages/ForgotPassword.vue","webpack:///./src/pages/ForgotPassword.vue?374d","webpack:///./src/pages/ForgotPassword.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","preventDefault","validateForgotPassword","_v","_s","$t","class","getValidationClass","model","value","forgotPasswordData","attributes","callback","$$v","$set","expression","$v","plainPassword","required","minlength","_e","passwordConfirm","staticRenderFns","name","mixins","authRequestMixin","data","validations","minLength","sameAsPassword","created","restorePasswordKey","$route","params","token","methods","$touch","$invalid","forgotPassword","field","$dirty","component"],"mappings":"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","file":"js/forgotPassword.475ddc9f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"md-layout md-alignment-center\"},[_c('div',{staticClass:\"md-layout-item md-xlarge-size-30 md-large-size-40 md-medium-size-60 md-small-size-100\"},[_c('form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateForgotPassword()}}},[_c('h2',{staticClass:\"mar-b-2\"},[_vm._v(_vm._s(_vm.$t('auth.resetPassword')))]),_c('md-field',{class:_vm.getValidationClass('plainPassword')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.password'))+\"*\")]),_c('md-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.forgotPasswordData.attributes.plainPassword),callback:function ($$v) {_vm.$set(_vm.forgotPasswordData.attributes, \"plainPassword\", $$v)},expression:\"forgotPasswordData.attributes.plainPassword\"}}),(!_vm.$v.forgotPasswordData.attributes.plainPassword.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.password'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.forgotPasswordData.attributes.plainPassword.minlength)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.password'))+\" \")]):_vm._e()],1),_c('md-field',{class:_vm.getValidationClass('passwordConfirm')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.passwordConfirm'))+\"*\")]),_c('md-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.forgotPasswordData.attributes.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.forgotPasswordData.attributes, \"passwordConfirm\", $$v)},expression:\"forgotPasswordData.attributes.passwordConfirm\"}}),(!_vm.$v.forgotPasswordData.attributes.passwordConfirm.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.passwordConfirm'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.forgotPasswordData.attributes.passwordConfirm.minlength)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.passwordConfirm'))+\" \")]):(_vm.$v.forgotPasswordData.attributes.passwordConfirm.sameAsPassword)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.passwordConfirmError'))+\" \")]):_vm._e()],1),_c('div',{staticClass:\"md-layout md-alignment-left\"},[_c('md-button',{staticClass:\"radius-block radius-block_gray-btn radius-block_full-size mar-b-2\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.$t('auth.resetPassword'))+\" \")])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"md-layout md-alignment-center\">\n    <div class=\"md-layout-item md-xlarge-size-30 md-large-size-40 md-medium-size-60 md-small-size-100\">\n      <form\n        novalidate\n        @submit.prevent=\"validateForgotPassword()\"\n      >\n        <h2 class=\"mar-b-2\">{{$t('auth.resetPassword')}}</h2>\n        <md-field :class=\"getValidationClass('plainPassword')\">\n          <label>{{$t('auth.password')}}*</label>\n          <md-input\n            v-model=\"forgotPasswordData.attributes.plainPassword\"\n            type=\"password\"\n          ></md-input>\n          <span\n            class=\"md-error\"\n            v-if=\"!$v.forgotPasswordData.attributes.plainPassword.required\"\n          >\n          {{$t('auth.password')}} {{$t('auth.isRequired')}}\n        </span>\n          <span\n            class=\"md-error\"\n            v-else-if=\"!$v.forgotPasswordData.attributes.plainPassword.minlength\"\n          >\n          {{$t('auth.invalid')}} {{$t('auth.password')}}\n        </span>\n        </md-field>\n        <md-field :class=\"getValidationClass('passwordConfirm')\">\n          <label>{{$t('auth.passwordConfirm')}}*</label>\n          <md-input\n            v-model=\"forgotPasswordData.attributes.passwordConfirm\"\n            type=\"password\"\n          ></md-input>\n          <span\n            class=\"md-error\"\n            v-if=\"!$v.forgotPasswordData.attributes.passwordConfirm.required\"\n          >\n          {{$t('auth.passwordConfirm')}} {{$t('auth.isRequired')}}\n        </span>\n          <span\n            class=\"md-error\"\n            v-else-if=\"!$v.forgotPasswordData.attributes.passwordConfirm.minlength\"\n          >\n          {{$t('auth.invalid')}} {{$t('auth.passwordConfirm')}}\n        </span>\n          <span\n            class=\"md-error\"\n            v-else-if=\"$v.forgotPasswordData.attributes.passwordConfirm.sameAsPassword\"\n          >\n          {{$t('auth.invalid')}} {{$t('auth.passwordConfirmError')}}\n        </span>\n        </md-field>\n        <div class=\"md-layout md-alignment-left\">\n          <md-button\n            type=\"submit\"\n            class=\"radius-block radius-block_gray-btn radius-block_full-size mar-b-2\"\n          >\n            {{$t('auth.resetPassword')}}\n          </md-button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { minLength, required, sameAs } from 'vuelidate/lib/validators';\nimport authRequestMixin from '../mixins/authRequestMixin';\nimport common from '../assets/common';\n\nexport default {\n  name: 'forgotPassword',\n  mixins: [authRequestMixin],\n  data: () => ({\n    forgotPasswordData: {\n      type: 'string ',\n      attributes: {\n        restorePasswordKey: '',\n        plainPassword: null,\n        passwordConfirm: null,\n      },\n    },\n  }),\n  validations: {\n    forgotPasswordData: {\n      attributes: {\n        plainPassword: {\n          required,\n          minLength: minLength(6),\n        },\n        passwordConfirm: {\n          required,\n          sameAsPassword: sameAs('plainPassword'),\n        },\n      },\n    },\n  },\n  created() {\n    this.forgotPasswordData.attributes.restorePasswordKey = this.$route.params.token;\n  },\n  methods: {\n    validateForgotPassword() {\n      this.$v.forgotPasswordData.$touch();\n\n      if (!this.$v.forgotPasswordData.$invalid) {\n        this.forgotPassword();\n      }\n    },\n    forgotPassword() {\n      delete this.forgotPasswordData.attributes.passwordConfirm;\n\n      axios\n        .post(\n          `${common.baseUrl}/api/restore-password `,\n          { data: this.forgotPasswordData },\n        )\n        .then(() => {\n          document.querySelector('.sign-in-btn').click();\n          this.$router.push('/');\n          this.$toaster.success(`${this.$t('auth.passwordHasBeenReset')}`);\n        })\n        .catch((e) => {\n          this.errorHandler('On post forgot password', e);\n        });\n    },\n    getValidationClass(fieldName) {\n      const field = this.$v.forgotPasswordData.attributes[fieldName];\n\n      if (field) {\n        return {\n          'md-invalid': field.$invalid && field.$dirty,\n        };\n      }\n\n      return false;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForgotPassword.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForgotPassword.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ForgotPassword.vue?vue&type=template&id=673ebfba&\"\nimport script from \"./ForgotPassword.vue?vue&type=script&lang=js&\"\nexport * from \"./ForgotPassword.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}