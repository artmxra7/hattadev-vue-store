(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ed73d4a0"],{"4e54":function(t,e,a){"use strict";var r=a("66d8"),n=a.n(r);n.a},"66d8":function(t,e,a){},7500:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section",attrs:{id:"cart"}},[a("Loading",{attrs:{active:t.isLoading,"is-full-page":!0,loader:"dots",color:"blue"},on:{"update:active":function(e){t.isLoading=e}}}),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"section__title"},[t._v("Jumlah barang ("+t._s(t.basketItems.length)+")")]),a("div",{staticClass:"basket"},[a("div",{attrs:{items:t.basketItems}},[a("div",{staticClass:"col-12 col-lg-12"},[a("div",{staticClass:"cart"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"cart__table"},[t._m(0),a("tbody",[t._l(t.basketItems,(function(e,r){return a("tr",{key:e.id},[a("td",[a("div",{staticClass:"cart__img"},[a("img",{attrs:{src:e.products_image_url,alt:""}})])]),a("td",[a("div",[t._v(" "+t._s(e.products_name)+" ")])]),a("td",[a("div",{staticClass:"cart__quantity"},[a("button",{attrs:{disabled:e.qty<2,type:"button"},on:{click:function(a){return t.increamentItem(e)}}},[a("i",{staticClass:"ion ion-ios-remove"})]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"item.qty"}],attrs:{type:"text"},domProps:{value:e.qty},on:{input:function(a){a.target.composing||t.$set(e,"qty",a.target.value)}}}),a("button",{attrs:{disabled:e.qty>=e.stok,type:"button"},on:{click:function(a){return t.decreamentItem(e)}}},[a("i",{staticClass:"ion ion-ios-add"})])])]),a("td",[a("span",{staticClass:"cart__price"},[t._v(t._s(e.satuan))])]),a("td",[a("span",{staticClass:"cart__price"},[t._v(t._s(t._f("currency")(e.qty*e.price)))])]),a("td",[a("button",{staticClass:"cart__delete",attrs:{type:"button"},on:{click:function(a){return t.removeItem(e,r)}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512"}},[a("line",{staticStyle:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{x1:"368",y1:"368",x2:"144",y2:"144"}}),a("line",{staticStyle:{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32px"},attrs:{x1:"368",y1:"144",x2:"144",y2:"368"}})])])])])})),a("tr",{directives:[{name:"show",rawName:"v-show",value:0===t.basketItems.length,expression:"basketItems.length === 0"}]},[t._m(1)])],2)])]),a("div",{staticClass:"cart__info"},[a("div",{staticClass:"cart__total"},[a("p",[t._v("Total:")]),a("span",[t._v(" "+t._s(t._f("currency")(t.Total)))])]),t.basketItems.length>0?a("div",{staticClass:"width-100"},[t.thisCheckout?t._e():a("button",{staticClass:"form__btn",attrs:{type:"button"},on:{click:function(e){return t.checkoutCart()}}},[t._v(" Checkout ")])]):t._e()]),t.thisCheckout?a("div",{staticClass:"cart__info"},[a("div",{staticClass:"separator"}),a("form",{staticClass:"form-checkout",on:{submit:function(e){return e.preventDefault(),t.validateForm()}}},[a("h4",{staticClass:"checkout__title"},[t._v("Checkout")]),a("div",{staticClass:"form__group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formPesanan.alamat,expression:"formPesanan.alamat"}],attrs:{type:"text",name:"name",placeholder:"Alamat Lengkap Pengiriman"},domProps:{value:t.formPesanan.alamat},on:{input:function(e){e.target.composing||t.$set(t.formPesanan,"alamat",e.target.value)}}}),t.$v.formPesanan.alamat.required?t.$v.formPesanan.alamat.minLength?t._e():a("span",{staticClass:"md-error"},[t._v(" Alamat pengiriman terlalu pendek ")]):a("span",{staticClass:"md-error"},[t._v(" Alamat pengiriman tidak boleh kosong ")])]),a("div",{staticClass:"form__group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formPesanan.noHp,expression:"formPesanan.noHp"}],attrs:{type:"number",name:"phone",placeholder:"Nomor penerima"},domProps:{value:t.formPesanan.noHp},on:{input:function(e){e.target.composing||t.$set(t.formPesanan,"noHp",e.target.value)}}}),t.$v.formPesanan.noHp.required?t.$v.formPesanan.noHp.minLength?t._e():a("span",{staticClass:"md-error"},[t._v(" Nomor telepon tidak dikenal ")]):a("span",{staticClass:"md-error"},[t._v(" Nomor telepon penerima tidak boleh kosong ")])]),a("div",{staticClass:"form__group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formPesanan.kurir,expression:"formPesanan.kurir"}],attrs:{type:"text",name:"phone",placeholder:"Kurir Pengiriman"},domProps:{value:t.formPesanan.kurir},on:{input:function(e){e.target.composing||t.$set(t.formPesanan,"kurir",e.target.value)}}})]),a("button",{staticClass:"form__btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.validateForm()}}},[t._v(" Order Sekarang ")])])]):t._e()])])])])])])])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Product")]),a("th",[t._v("Title")]),a("th",[t._v("Quantity")]),a("th",[t._v("Type")]),a("th",[t._v("Price")]),a("th")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{attrs:{colspan:"6"}},[a("p",{staticClass:"cart__empty"},[t._v("Cart is empty")])])}],o=(a("a4d3"),a("4de4"),a("a434"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),s=a("bc3a"),i=a.n(s),c=a("b5ae"),d=a("2f62"),l=a("9062"),u=a.n(l),p=a("8e9a"),m=a("edee");a("e40d");function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"Basket",mixins:[m["a"]],components:{Loading:u.a},data:function(){return{generalData:{},basketItems:[],currency:{},thisCheckout:!1,isModalVisible:!1,Total:0,formPesanan:{alamat:null,noHp:null,kurir:""},isLoading:!1}},validations:{formPesanan:{alamat:{required:c["required"],minLength:Object(c["minLength"])(10)},noHp:{required:c["required"],minLength:Object(c["minLength"])(11)}}},created:function(){this.fetchDataKeranjang()},computed:f({},Object(d["c"])(["getAllCartItems","getOrderCode"])),methods:f({},Object(d["b"])(["updateCartItems","createOrderCode"]),{fetchDataKeranjang:function(){var t=this,e=localStorage.getItem("contextToken"),a=localStorage.getItem("order_code"),r=new FormData;r.append("order_code",a),e&&i.a.post("https://ayen.koula.id/api/v1/user/keranjang",r,{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(e)}}).then((function(e){t.basketItems=e.data.data.barang,t.Total=e.data.data.total_amount})).catch((function(){t.$toaster.error("Gagal saat mengambil keranjang pesanan")}))},clearForm:function(){this.isLoading=!1,this.$v.$reset(),this.formPesanan.alamat=null,this.formPesanan.noHp=null,this.formPesanan.kurir="",this.$toaster.error("Harap isi Form dengan benar")},validateForm:function(){this.isLoading=!0,this.$v.formPesanan.$touch(),this.$v.formPesanan.$invalid?this.clearForm():this.createOrder()},createOrder:function(){var t=this,e=localStorage.getItem("order_code"),a=localStorage.getItem("contextToken"),r=this.formPesanan,n=new FormData;n.append("order_code",e),n.append("total",this.Total),n.append("alamat",r.alamat),n.append("noHp",r.noHp),n.append("kurir",r.kurir),i.a.post("https://ayen.koula.id/api/v1/user/order",n,{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(a)}}).then((function(){t.$toaster.error("Order telah dikirim"),t.isLoading=!1;var e="/order";localStorage.removeItem("order_code"),t.$route.path!==e&&t.$router.push("/order")})).catch((function(){t.$toaster.error("Email Sudah digunakan"),t.clearForm()}))},removeItem:function(t,e){this.basketItems.splice(e,1),this.onDeleteCartItem(t)},onDeleteCartItem:function(t){var e=this,a=new FormData;a.append("order_code",t.order_code),a.append("id",t.products_id);var r=localStorage.getItem("contextToken");i.a.post("".concat(p["a"].server,"/user/keranjang/hapus"),a,{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(r)}}).then((function(t){var a=t.data.data,r=a.keranjang,n=a.user_order_code;e.updateCartItems(r),e.createOrderCode(n),e.basketItems=r,e.Total=t.data.data.total_amount})).catch((function(t){console.error("Error occured on delete the basket item ",t),e.$toaster.error("Ooops terjadi kesalahan")}))},decreamentItem:function(t){var e=this,a=new FormData;a.append("order_code",t.order_code),a.append("id",t.products_id),a.append("price",t.price),a.append("qty",t.qty);var r=localStorage.getItem("contextToken");i.a.post("https://ayen.koula.id/api/v1/user/keranjang/decreament",a,{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(r)}}).then((function(t){var a=t.data.data,r=a.keranjang,n=a.user_order_code;e.updateCartItems(r),e.createOrderCode(n),e.basketItems=r,e.Total=t.data.data.total_amount})).catch((function(t){console.error("Error occured on change quantity in basket ",t),e.$toaster.error(e.$t("notify.oops"))}))},increamentItem:function(t){var e=this,a=new FormData;a.append("order_code",t.order_code),a.append("id",t.products_id),a.append("price",t.price),a.append("qty",t.qty);var r=localStorage.getItem("contextToken");i.a.post("https://ayen.koula.id/api/v1/user/keranjang/increament",a,{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(r)}}).then((function(t){var a=t.data.data,r=a.keranjang,n=a.user_order_code;e.updateCartItems(r),e.createOrderCode(n),e.basketItems=r,e.Total=t.data.data.total_amount})).catch((function(t){console.error("Error occured on change quantity in basket ",t),e.$toaster.error(e.$t("notify.oops"))}))},checkoutCart:function(){this.thisCheckout=!0},openModalFlag:function(){this.isModalVisible=!0},closeModalFlag:function(){this.isModalVisible=!1}})},g=v,_=(a("4e54"),a("2877")),k=Object(_["a"])(g,r,n,!1,null,"4f61f788",null);e["default"]=k.exports},a434:function(t,e,a){"use strict";var r=a("23e7"),n=a("23cb"),o=a("a691"),s=a("50c4"),i=a("7b0b"),c=a("65f0"),d=a("8418"),l=a("1dde"),u=Math.max,p=Math.min,m=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!l("splice")},{splice:function(t,e){var a,r,l,f,v,g,_=i(this),k=s(_.length),b=n(t,k),y=arguments.length;if(0===y?a=r=0:1===y?(a=0,r=k-b):(a=y-2,r=p(u(o(e),0),k-b)),k+a-r>m)throw TypeError(h);for(l=c(_,r),f=0;f<r;f++)v=b+f,v in _&&d(l,f,_[v]);if(l.length=r,a<r){for(f=b;f<k-r;f++)v=f+r,g=f+a,v in _?_[g]=_[v]:delete _[g];for(f=k;f>k-r+a;f--)delete _[f-1]}else if(a>r)for(f=k-r;f>b;f--)v=f+r-1,g=f+a-1,v in _?_[g]=_[v]:delete _[g];for(f=0;f<a;f++)_[f+b]=arguments[f+2];return _.length=k-r+a,l}})}}]);
//# sourceMappingURL=chunk-ed73d4a0.39b86491.js.map