{"version":3,"sources":["webpack:///./src/pages/checkout/UserData.vue?8d86","webpack:///src/pages/checkout/UserData.vue","webpack:///./src/pages/checkout/UserData.vue?d1d2","webpack:///./src/pages/checkout/UserData.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","isAuthorized","_e","_v","_s","$t","attrs","on","$event","preventDefault","validateUserProfile","model","value","customer","callback","$$v","$set","expression","_l","salutation","key","index","class","getValidationClass","$v","firstName","required","minlength","lastName","email","password","passwordConfirm","countryData","billingAddress","street","zipcode","city","staticRenderFns","name","mixins","authRequestMixin","data","created","getContext","validations","minLength","sameAsPassword","countryId","numeric","methods","field","$invalid","$dirty","$touch","registerUser","replaceOrder","component"],"mappings":"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","file":"js/chunk-2d21e205.80814f1c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"holder holder_white mar-b-1\"},[(!_vm.isAuthorized)?_c('h2',{staticClass:\"mar-b-2\"},[_vm._v(_vm._s(_vm.$t('header.toRegister')))]):_vm._e(),(_vm.isAuthorized)?_c('h2',{staticClass:\"mar-b-2\"},[_vm._v(_vm._s(_vm.$t('profile.editProfile')))]):_vm._e(),_c('form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateUserProfile()}}},[_c('md-field',[_c('label',[_vm._v(\"Anrede\")]),_c('md-select',{model:{value:(_vm.customer.salutationId),callback:function ($$v) {_vm.$set(_vm.customer, \"salutationId\", $$v)},expression:\"customer.salutationId\"}},_vm._l((_vm.salutations),function(salutation,key,index){return _c('md-option',{key:index,attrs:{\"value\":salutation}},[_vm._v(_vm._s(key)+\" \")])}),1)],1),_c('md-field',{class:_vm.getValidationClass('customer', 'firstName')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.firstName'))+\"*\")]),_c('md-input',{model:{value:(_vm.customer.firstName),callback:function ($$v) {_vm.$set(_vm.customer, \"firstName\", $$v)},expression:\"customer.firstName\"}}),(!_vm.$v.customer.firstName.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.firstName'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.customer.firstName.minlength)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.firstName'))+\" \")]):_vm._e()],1),_c('md-field',{class:_vm.getValidationClass('customer', 'lastName')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.lastName'))+\"*\")]),_c('md-input',{model:{value:(_vm.customer.lastName),callback:function ($$v) {_vm.$set(_vm.customer, \"lastName\", $$v)},expression:\"customer.lastName\"}}),(!_vm.$v.customer.lastName.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.lastName'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.customer.lastName.minlength)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.lastName'))+\" \")]):_vm._e()],1),_c('md-field',{class:_vm.getValidationClass('customer', 'email')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.emailAddress'))+\"*\")]),_c('md-input',{model:{value:(_vm.customer.email),callback:function ($$v) {_vm.$set(_vm.customer, \"email\", $$v)},expression:\"customer.email\"}}),(!_vm.$v.customer.email.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.customer.email)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1),(!_vm.isAuthorized)?_c('md-field',{class:_vm.getValidationClass('customer', 'password')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.password'))+\"*\")]),_c('md-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.customer.password),callback:function ($$v) {_vm.$set(_vm.customer, \"password\", $$v)},expression:\"customer.password\"}}),(!_vm.$v.customer.password.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.password'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.customer.password)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1):_vm._e(),(!_vm.isAuthorized)?_c('md-field',{class:_vm.getValidationClass('customer', 'passwordConfirm')},[_c('label',[_vm._v(_vm._s(_vm.$t('auth.passwordConfirm'))+\"*\")]),_c('md-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.customer.passwordConfirm),callback:function ($$v) {_vm.$set(_vm.customer, \"passwordConfirm\", $$v)},expression:\"customer.passwordConfirm\"}}),(!_vm.$v.customer.passwordConfirm.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.passwordConfirm'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.customer.passwordConfirm)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1):_vm._e()],1),_c('h2',{staticClass:\"mar-b-2 pad-t-2\"},[_vm._v(\"Rechnungsadresse\")]),_c('form',{attrs:{\"novalidate\":\"\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.validateUserProfile()}}},[_c('md-field',[_c('label',[_vm._v(\"Land*\")]),_c('md-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.countryData.name),callback:function ($$v) {_vm.$set(_vm.countryData, \"name\", $$v)},expression:\"countryData.name\"}})],1),_c('md-field',{class:_vm.getValidationClass('billingAddress', 'street')},[_c('label',[_vm._v(\"Straße*\")]),_c('md-input',{model:{value:(_vm.billingAddress.street),callback:function ($$v) {_vm.$set(_vm.billingAddress, \"street\", $$v)},expression:\"billingAddress.street\"}}),(!_vm.$v.billingAddress.street.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.streetAddress'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.billingAddress.street)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1),_c('md-field',{class:_vm.getValidationClass('billingAddress', 'zipcode')},[_c('label',[_vm._v(\"Postleitzahl*\")]),_c('md-input',{model:{value:(_vm.billingAddress.zipcode),callback:function ($$v) {_vm.$set(_vm.billingAddress, \"zipcode\", $$v)},expression:\"billingAddress.zipcode\"}}),(!_vm.$v.billingAddress.zipcode.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.streetAddress'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.billingAddress.zipcode)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1),_c('md-field',{class:_vm.getValidationClass('billingAddress', 'city')},[_c('label',[_vm._v(\"Stadt*\")]),_c('md-input',{model:{value:(_vm.billingAddress.city),callback:function ($$v) {_vm.$set(_vm.billingAddress, \"city\", $$v)},expression:\"billingAddress.city\"}}),(!_vm.$v.billingAddress.city.required)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.streetAddress'))+\" \"+_vm._s(_vm.$t('auth.isRequired'))+\" \")]):(!_vm.$v.billingAddress.city)?_c('span',{staticClass:\"md-error\"},[_vm._v(\" \"+_vm._s(_vm.$t('auth.invalid'))+\" \"+_vm._s(_vm.$t('auth.emailAddress'))+\" \")]):_vm._e()],1)],1),_c('div',{staticClass:\"text-center pad-t-2\"},[_c('md-button',{staticClass:\"radius-block pad-l-2 pad-r-2\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){return _vm.validateUserProfile()}}},[_vm._v(\" \"+_vm._s(_vm.$t('checkout.continue'))+\" \")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"holder holder_white mar-b-1\">\n    <h2 v-if=\"!isAuthorized\" class=\"mar-b-2\">{{$t('header.toRegister')}}</h2>\n    <h2 v-if=\"isAuthorized\" class=\"mar-b-2\">{{$t('profile.editProfile')}}</h2>\n    <form\n      novalidate\n      @submit.prevent=\"validateUserProfile()\"\n    >\n      <md-field>\n        <label>Anrede</label>\n        <md-select v-model=\"customer.salutationId\">\n          <md-option\n            v-for=\"(salutation, key, index) in salutations\"\n            v-bind:key=\"index\"\n            :value=\"salutation\"\n          >{{ key }}\n          </md-option>\n        </md-select>\n      </md-field>\n      <md-field :class=\"getValidationClass('customer', 'firstName')\">\n        <label>{{$t('auth.firstName')}}*</label>\n        <md-input v-model=\"customer.firstName\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.customer.firstName.required\"\n        >\n          {{$t('auth.firstName')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.customer.firstName.minlength\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.firstName')}}\n        </span>\n      </md-field>\n      <md-field :class=\"getValidationClass('customer', 'lastName')\">\n        <label>{{$t('auth.lastName')}}*</label>\n        <md-input v-model=\"customer.lastName\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.customer.lastName.required\"\n        >\n          {{$t('auth.lastName')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.customer.lastName.minlength\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.lastName')}}\n        </span>\n      </md-field>\n      <md-field :class=\"getValidationClass('customer', 'email')\">\n        <label>{{$t('auth.emailAddress')}}*</label>\n        <md-input v-model=\"customer.email\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.customer.email.required\"\n        >\n          {{$t('auth.emailAddress')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.customer.email\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n      <md-field\n        v-if=\"!isAuthorized\"\n        :class=\"getValidationClass('customer', 'password')\"\n      >\n        <label>{{$t('auth.password')}}*</label>\n        <md-input\n          type=\"password\"\n          v-model=\"customer.password\"\n        ></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.customer.password.required\"\n        >\n          {{$t('auth.password')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.customer.password\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n      <md-field\n        v-if=\"!isAuthorized\"\n        :class=\"getValidationClass('customer', 'passwordConfirm')\"\n      >\n        <label>{{$t('auth.passwordConfirm')}}*</label>\n        <md-input\n          type=\"password\"\n          v-model=\"customer.passwordConfirm\"\n        ></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.customer.passwordConfirm.required\"\n        >\n          {{$t('auth.passwordConfirm')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.customer.passwordConfirm\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n    </form>\n\n    <!-------******* Second Form for address *******--------->\n\n    <h2 class=\"mar-b-2 pad-t-2\">Rechnungsadresse</h2>\n    <form\n      novalidate\n      @submit.prevent=\"validateUserProfile()\"\n    >\n      <md-field>\n        <label>Land*</label>\n        <md-input readonly v-model=\"countryData.name\"></md-input>\n      </md-field>\n      <md-field :class=\"getValidationClass('billingAddress', 'street')\">\n        <label>Straße*</label>\n        <md-input v-model=\"billingAddress.street\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.billingAddress.street.required\"\n        >\n          {{$t('auth.streetAddress')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.billingAddress.street\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n      <md-field :class=\"getValidationClass('billingAddress', 'zipcode')\">\n        <label>Postleitzahl*</label>\n        <md-input v-model=\"billingAddress.zipcode\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.billingAddress.zipcode.required\"\n        >\n          {{$t('auth.streetAddress')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.billingAddress.zipcode\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n      <md-field :class=\"getValidationClass('billingAddress', 'city')\">\n        <label>Stadt*</label>\n        <md-input v-model=\"billingAddress.city\"></md-input>\n        <span\n          class=\"md-error\"\n          v-if=\"!$v.billingAddress.city.required\"\n        >\n          {{$t('auth.streetAddress')}} {{$t('auth.isRequired')}}\n        </span>\n        <span\n          class=\"md-error\"\n          v-else-if=\"!$v.billingAddress.city\"\n        >\n          {{$t('auth.invalid')}} {{$t('auth.emailAddress')}}\n        </span>\n      </md-field>\n    </form>\n    <div class=\"text-center pad-t-2\">\n      <md-button\n        @click=\"validateUserProfile()\"\n        type=\"submit\"\n        class=\"radius-block pad-l-2 pad-r-2\"\n      >\n        {{$t('checkout.continue')}}\n      </md-button>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  email,\n  minLength,\n  required,\n  sameAs,\n  numeric,\n} from 'vuelidate/lib/validators';\nimport { mapActions } from 'vuex';\nimport axios from 'axios';\nimport constants from '../../constants';\nimport authRequestMixin from '../../mixins/authRequestMixin';\n\nexport default {\n  name: 'UserData',\n  mixins: [authRequestMixin],\n  data: () => ({\n    salutations: constants.AVAILABLE_SALUTATION, // ['Frau', 'Herr', 'Keine Angabe'],\n    isAuthorized: false,\n    countryData: {\n      name: '',\n      id: '',\n    },\n    customer: {\n      firstName: null,\n      lastName: null,\n      salutationId: null,\n      email: null,\n      password: null,\n      passwordConfirm: null,\n    },\n    billingAddress: {\n      countryId: null,\n      street: null,\n      zipcode: null,\n      city: null,\n    },\n  }),\n  created() {\n    this.getContext();\n  },\n  validations: {\n    customer: {\n      firstName: {\n        required,\n        minLength: minLength(3),\n      },\n      lastName: {\n        required,\n        minLength: minLength(3),\n      },\n      email: {\n        required,\n        email,\n      },\n      password: {\n        required,\n        minLength: minLength(8),\n      },\n      passwordConfirm: {\n        required,\n        sameAsPassword: sameAs('password'),\n      },\n    },\n    billingAddress: {\n      countryId: {\n        required,\n      },\n      street: {\n        required,\n      },\n      zipcode: {\n        required,\n        numeric,\n      },\n      city: {\n        required,\n      },\n    },\n  },\n  methods: {\n    ...mapActions([\n      'updateUserData',\n      'updateOrderResult',\n    ]),\n    getValidationClass(formName, fieldName) {\n      const field = this.$v[formName][fieldName];\n\n      if (field) {\n        return {\n          'md-invalid': field.$invalid && field.$dirty,\n        };\n      }\n\n      return false;\n    },\n    validateUserProfile() {\n      this.$v.customer.$touch();\n      this.$v.billingAddress.$touch();\n      this.registerUser();\n    },\n    getContext() {\n      axios\n        .get('http://77.245.20.254/store-api/v3/context', {\n          headers: {\n            'sw-access-key': 'SWSCAUPEWFJVU0FVC20WCNDLUG',\n            'sw-context-token': localStorage.getItem('contextToken'),\n          },\n        })\n        .then((response) => {\n          this.countryData.name = response.data.shippingLocation.country.name;\n          this.billingAddress.countryId = response.data.shippingLocation.country.id;\n\n          if (response.data.customer) {\n            const customerData = response.data.customer;\n            this.isAuthorized = !!customerData;\n\n            this.customer = {\n              firstName: customerData.firstName,\n              lastName: customerData.lastName,\n              salutationId: customerData.salutationId,\n              email: customerData.email,\n            };\n            this.billingAddress = {\n              countryId: customerData.activeBillingAddress.countryId,\n              street: customerData.activeBillingAddress.street,\n              zipcode: customerData.activeBillingAddress.zipcode,\n              city: customerData.activeBillingAddress.city,\n            };\n          }\n        });\n    },\n    registerUser() {\n      if (this.isAuthorized) {\n        this.replaceOrder();\n\n        return;\n      }\n\n      if (this.$v.customer.$invalid || this.$v.billingAddress.$invalid) {\n        return;\n      }\n\n      delete this.customer.passwordConfirm;\n\n      const { billingAddress } = this;\n      const userData = {\n        ...this.customer,\n        billingAddress,\n      };\n\n      axios\n        .post('http://77.245.20.254/store-api/v3/axonlab/account/register',\n          userData,\n          {\n            headers: {\n              'sw-access-key': 'SWSCAUPEWFJVU0FVC20WCNDLUG',\n              'sw-context-token': localStorage.getItem('contextToken'),\n            },\n          })\n        .then((response) => {\n          this.updateUserData(userData);\n          localStorage.setItem('contextToken', response.headers['sw-context-token-al']);\n          localStorage.setItem('isUserAuthorized', true);\n          this.replaceOrder();\n        })\n        .catch((e) => {\n          // eslint-disable-next-line no-console\n          console.error('Error occured on registration ', e);\n          this.$toaster.error(this.$t('notify.oops'));\n        });\n    },\n    replaceOrder() {\n      axios\n        .post('http://77.245.20.254/store-api/v3/checkout/order', {}, {\n          headers: {\n            'sw-access-key': 'SWSCAUPEWFJVU0FVC20WCNDLUG',\n            'sw-context-token': localStorage.getItem('contextToken'),\n          },\n        })\n        .then((response) => {\n          this.$router.push('/checkout/summary');\n          this.updateOrderResult(response.data);\n          localStorage.setItem('orderId', response.data.id);\n        })\n        .catch((e) => {\n          // eslint-disable-next-line no-console\n          console.error('Error occured on replase order ', e);\n          this.$toaster.error(this.$t('notify.oops'));\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserData.vue?vue&type=template&id=4d6f6744&\"\nimport script from \"./UserData.vue?vue&type=script&lang=js&\"\nexport * from \"./UserData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}